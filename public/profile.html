<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>LRDA Profile Management</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style/style.css">
    <!-- <script src="https://cdn.auth0.com/js/auth0/9.19.0/auth0.min.js" defer></script>
    <script src="./script/heartbeat.js" type="text/javascript" defer></script> -->
    <script src="./script/manage.js" type="module"></script>
</head>

<body>
    <header class="container">
        <nav class="nav">
            <div class="nav-left">
                <a class="brand" href="profile.html"><img
                        src="https://cdm16007.contentdm.oclc.org/iiif/2/p267401coll32:4553/100,0,1100,1100/150,150/0/default.jpg"
                        alt="logo"></a>
                <h1 class="brand text-light hide-sm hide-xs">
                    LRDA Users
                    <i class="fa fa-cubes"></i>
                </h1>
            </div>
            <div class="nav-right tabs">
                <a id="username" href="profile.html" class="bg-light active">Profile</a>
                <a href="manage.html" class="bg-light">Users</a>
                <button href="profile.html" class="bg-light" is="auth-button">Logout</button>
            </div>
        </nav>
    </header>
    <div class="container">
        <p class="text-light">
            Update your user profile for the LRDA Apps
        </p>
        <div class="row">
            <form id="userForm" class="card col">
                <header>
                    <h4>Edit Profile</h4>
                </header>
                <div class="row">
                    <div class="col">
                        <label> Password </label>
                        <input name="password" type="text"/>
                        <label> Username </label>
                        <input name="name" type="text"/>
                        <label> Nickname </label>
                        <input name="nickname" type="text"/>
                        <label> Email </label>
                        <input name="email" type="email"/>
                        <label> Picture </label>
                        <input name="picture" type="url"/>
                    </div>
                </div>
                <footer class="is-right row">
                    <input class="button outline text-dark col" type="submit" value="Update User Info" />
                </footer>
            </form>
            <div class="card col is-center">
                <p>
                    <a class="button default" href="./logout.html">Logout</a>
                </p>
                <figure>
                    <span data-picture=""></span>
                    <figcaption class="text-center">
                        <strong><span data-nickname="" class=""></span></strong>
                        &lt;<span data-email="" class="no-break"></span>&gt;
                    </figcaption>
                </figure>
            </div>
        </div>
    </div>
    </div>
    <script>
        //Get the inputs on a form so we can control a dirty state on input perhaps.  Don't need to do updates if there are no changes.
        /*
        this.inputs = Array.from(elem.querySelectorAll(DEER.INPUTS.map(s => s + "[" + DEER.KEY + "]").join(",")))
        this.inputs.forEach(inpt => {
           inpt.addEventListener('input', (e) => {
               inpt.$isDirty = true //Make the input dirty
               this.$isDirty = true //Make the DeerReport dirty
           }) 
        })
        */
        //Right now the script grabs all the inputs and updates them all, even if they are unchanged.
        //Auth0 has some rules where certain fields cannot be updated at the same time...
        //Also, maybe password reset could just be its own UI or HTML page
        //https://auth0.com/docs/authenticate/database-connections/password-change
        //https://auth0.com/docs/manage-users/user-accounts/user-profiles/configure-connection-sync-with-auth0
        //https://community.auth0.com/t/password-update-fails-with-management-api/7807/4
        
    </script>
</body>

</html>
